<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<header th:fragment="common">
    <h1>상단 영역</h1>
    <a th:href="@{/}">
        <button type="submit" th:text="#{메인화면}"></button>
    </a>
    <th:block sec:authorize="isAnonymous()">
    <a th:href="@{/member/login}">
    <button type="submit" th:text="#{로그인}"></button>
</a>
    <a th:href="@{/member/join}">
        <button type="submit" th:text="#{회원가입}"></button>
    </a>
    </th:block>
    <th:block sec:authorize="isAuthenticated()">
        <span th:text="${#messages.msg('LOGIN_MSG',loggedMember.userName,loggedMember.email)}"/><br>
        <a th:href="@{/member/logout}">
            <button type="submit" th:text="#{로그아웃}"></button>
        </a>
        <a th:href="@{/mypage}">
            <button type="submit" th:text="#{마이페이지}"></button>
        </a>
        <a sec:authorize="hasAnyAuthority('ADMIN')" th:href="@{/admin}" target="_blank">
            <button type="submit" th:text="#{관리자_페이지}"></button>
        </a>
    </th:block>

    <!-- 메인메뉴바 시작 -->
    <section class="site-top">
        <div class="layout-width inner">
            <div class="left">
                <a th:href="@{/}">
                    <i class="xi-home-o"></i>
                    메인화면
                </a>
            </div>
            <div class="right">
                <!-- Replace with user session check logic -->
                <div th:if="${#request.remoteUser == null}">
                    <a th:href="@{/member/join}">
                        <i class="xi-user-plus-o"></i>
                        회원가입
                    </a>
                    <a th:href="@{/member/login}">
                        <i class="xi-log-in"></i>
                        로그인
                    </a>
                </div>
                <!-- User logged in state -->
                <div th:if="${#request.remoteUser != null}" class="logged-in-right">
                    <img th:src="${myProfile.frontImage}">
                    <span>
<span th:text="${loggedMember.userName}">UserName</span>
(<span th:text="${loggedMember.email}">email@example.com</span>)
</span>
                    <a th:href="@{/mypage}">
                        <i class="xi-user-o"></i>
                        마이페이지
                    </a>
                    <a th:href="@{/member/logout}">
                        <i class="xi-log-out"></i>
                        로그아웃
                    </a>
                </div>
            </div>
        </div>
    </section>
    <section class="logo-search">
        <div class="layout-width inner">
            <div class="center">
                <a th:href="@{/}" class="logo">
                    <img th:src="@{/images/logo.png}" alt="로고">
                </a>
            </div>
            <div class="main-center">
                <a th:href="@{/}" class="center-logo">
                    <img th:src="@{/images/pokemonLogo.png}" alt="메인 로고">
                </a>
            </div>
            <div class="right">
                <form class="search-box" method="GET" th:action="@{/pokemon}" autocomplete="off">
                    <input type="text" id="searchInput" name="skey" placeholder="검색어를 입력하세요.">
                    <button type="button" onclick="submitSearchForm()">
                        <i class="xi-search"></i>
                    </button>
                </form>
            </div>
        </div>
    </section>
    <!-- 메인메뉴바 끝 -->
</header>
</html>